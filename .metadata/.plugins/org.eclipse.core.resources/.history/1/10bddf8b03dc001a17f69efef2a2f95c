version: '3.5'
services:
  mysql-standalone:
    image: mysql:8
    environment:
      - MYSQL_ROOT_PASSWORD=1234567
      - MYSQL_DATABASE=db_example
      - MYSQL_USER=root
      - MYSQL_PASSWORD=1234567
    expose:
      - 3306
  backend:
    build: back-end
    depends_on:
      - mysql-standalone
    ports:
      - 8989:8080
    environment:
      - DATABASE_HOST=mysql-standalone
      - DATABASE_USER=rafael
      - DATABASE_NAME=bd_pessoa
      - DATABASE_PASSWORD=12345
      - DATABASE_PORT=3306
  frontend:
    build: front-end
    depends_on:
      - backend
    ports:
      - 8180:8080